(self.webpackJsonp=self.webpackJsonp||[]).push([["ProductStatusPeekingCard"],{"./app/components/ChannelsAvailability/ChannelIndicatorBadge/ChannelIndicatorBadge.tsx":function(n,e,t){"use strict";t.d(e,"b",(function(){return m})),t.d(e,"a",(function(){return h}));var a=t("./app/components/ChannelsAvailability/ChannelIndicatorBadge/translations/en.json"),s=t.n(a),i=t("./node_modules/react/index.js"),o=t.n(i),l=t("./node_modules/@shopify/react-i18n/build/esnext/hooks.esnext"),r=t("./node_modules/classnames/index.js"),d=t.n(r),c=t("./node_modules/@shopify/css-utilities/build/esnext/variation-name.esnext"),u=t("./node_modules/@shopify/polaris/dist/esnext/components/VisuallyHidden/VisuallyHidden.tsx.esnext"),p={ChannelIndicatorBadge:"_3QdcK",Pip:"_2MmWp",isDetail:"AoOLI",largerFont:"_2Egjv",statusPublished:"_2hIKp",statusScheduled:"_39HCW",statusSelected:"_3N7hH",statusPending:"_2h5_w",statusError:"_ygrA",progressIncomplete:"_1nFAj",progressPartiallyComplete:"uO9XF",progressComplete:"_3_F9l",PipContainer:"L2dYG",Label:"_2MsYM"};let m;var k;function h({children:n,isDetail:e=!1,largerFont:a=!1,status:i=m.Selected}){const[r]=Object(l.a)({id:"ChannelIndicatorBadge_ihrcjt",fallback:s.a,translations(n){if(!(["cs","da","de","es","fi","fr","it","ja","ko","nb","nl","pl","pt-BR","pt-PT","sv","th","tr","vi","zh-CN","zh-TW"].indexOf(n)<0))return(async()=>{const e=await t("./app/components/ChannelsAvailability/ChannelIndicatorBadge/translations lazy-once recursive ^\\.\\/.*\\.json$")(`./${n}.json`);return e&&e.default})()}});let h;switch(i){case m.Published:h=k.Complete;break;case m.Scheduled:case m.Pending:h=k.PartiallyComplete;break;default:h=k.Incomplete}const g=d()(p.ChannelIndicatorBadge,p[Object(c.a)("status",i)],p[Object(c.a)("progress",h)],e&&p.isDetail,a&&p.largerFont),C=r.translate(h,{scope:"ChannelIndicatorBadge.PROGRESS_LABELS"}),P=r.translate(i,{scope:"ChannelIndicatorBadge.STATUS_LABELS"}),v=r.translate("ChannelIndicatorBadge.progressAndStatus",{progressLabel:C,statusLabel:P}),j=o.a.createElement("div",{className:p.PipContainer},o.a.createElement("span",{className:p.Pip},o.a.createElement(u.a,null,v)));return o.a.createElement("span",{className:g},j,n?o.a.createElement("span",{className:p.Label},n):null)}!function(n){n.Selected="selected",n.Published="published",n.Scheduled="scheduled",n.Pending="pending",n.Error="error"}(m||(m={})),function(n){n.Incomplete="incomplete",n.PartiallyComplete="partiallyComplete",n.Complete="complete"}(k||(k={}))},"./app/components/ChannelsAvailability/ChannelIndicatorBadge/translations lazy-once recursive ^\\.\\/.*\\.json$":function(n,e,t){var a={"./cs.json":"./app/components/ChannelsAvailability/ChannelIndicatorBadge/translations/cs.json","./da.json":"./app/components/ChannelsAvailability/ChannelIndicatorBadge/translations/da.json","./de.json":"./app/components/ChannelsAvailability/ChannelIndicatorBadge/translations/de.json","./en.json":"./app/components/ChannelsAvailability/ChannelIndicatorBadge/translations/en.json","./es.json":"./app/components/ChannelsAvailability/ChannelIndicatorBadge/translations/es.json","./fi.json":"./app/components/ChannelsAvailability/ChannelIndicatorBadge/translations/fi.json","./fr.json":"./app/components/ChannelsAvailability/ChannelIndicatorBadge/translations/fr.json","./it.json":"./app/components/ChannelsAvailability/ChannelIndicatorBadge/translations/it.json","./ja.json":"./app/components/ChannelsAvailability/ChannelIndicatorBadge/translations/ja.json","./ko.json":"./app/components/ChannelsAvailability/ChannelIndicatorBadge/translations/ko.json","./nb.json":"./app/components/ChannelsAvailability/ChannelIndicatorBadge/translations/nb.json","./nl.json":"./app/components/ChannelsAvailability/ChannelIndicatorBadge/translations/nl.json","./pl.json":"./app/components/ChannelsAvailability/ChannelIndicatorBadge/translations/pl.json","./pt-BR.json":"./app/components/ChannelsAvailability/ChannelIndicatorBadge/translations/pt-BR.json","./pt-PT.json":"./app/components/ChannelsAvailability/ChannelIndicatorBadge/translations/pt-PT.json","./sv.json":"./app/components/ChannelsAvailability/ChannelIndicatorBadge/translations/sv.json","./th.json":"./app/components/ChannelsAvailability/ChannelIndicatorBadge/translations/th.json","./tr.json":"./app/components/ChannelsAvailability/ChannelIndicatorBadge/translations/tr.json","./vi.json":"./app/components/ChannelsAvailability/ChannelIndicatorBadge/translations/vi.json","./zh-CN.json":"./app/components/ChannelsAvailability/ChannelIndicatorBadge/translations/zh-CN.json","./zh-TW.json":"./app/components/ChannelsAvailability/ChannelIndicatorBadge/translations/zh-TW.json"};function s(n){return i(n).then((function(n){return t.t(n,7)}))}function i(n){return t.e("ChannelIndicatorBadge_ihrcjt-i18n").then((function(){if(!t.o(a,n)){var e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e}return a[n]}))}s.keys=function(){return Object.keys(a)},s.resolve=i,s.id="./app/components/ChannelsAvailability/ChannelIndicatorBadge/translations lazy-once recursive ^\\.\\/.*\\.json$",n.exports=s},"./app/components/ChannelsAvailability/ChannelIndicatorBadge/translations/en.json":function(n,e){n.exports={ChannelIndicatorBadge:{PROGRESS_LABELS:{incomplete:"Incomplete",partiallyComplete:"Partially complete",complete:"Complete"},STATUS_LABELS:{selected:"Selected",published:"Published",scheduled:"Scheduled",pending:"Pending",error:"Error"},progressAndStatus:"{statusLabel} {progressLabel}"}}},"./app/components/ProductStatusPeekingCard/ProductStatusPeekingCard.tsx":function(n,e,t){"use strict";t.r(e),t.d(e,"default",(function(){return Q})),t.d(e,"Overlay",(function(){return nn}));var a=t("./node_modules/react/index.js"),s=t.n(a),i=t("./node_modules/@shopify/polaris/dist/esnext/components/Popover/Popover.tsx.esnext"),o=t("./node_modules/@shopify/polaris/dist/esnext/components/Portal/Portal.tsx.esnext"),l=t("./node_modules/classnames/index.js"),r=t.n(l),d=t("./packages/@web-utilities/monorail/producer.ts"),c=t("./node_modules/@shopify/admin-graphql-api-utilities/dist/src/index.js"),u=t("./node_modules/react-router/esm/react-router.js"),p=t("./app/types/graphql/core-types/ProductStatus.ts"),m=t("./app/components/ProductStatusBadge/ProductStatusBadge.tsx"),k="_2GcJ4",h="_kKeE",g="_14tr7",C="_35wcx",P="_1dwOp",v=t("./app/components/ProductStatusPeekingCard/components/PeekingCardActivator/translations/en.json"),j=t.n(v),b=t("./node_modules/@shopify/polaris/dist/esnext/components/Stack/Stack.tsx.esnext"),y=t("./node_modules/@shopify/polaris/dist/esnext/components/Icon/Icon.tsx.esnext"),S=t("./node_modules/@shopify/polaris/dist/esnext/components/TextStyle/TextStyle.tsx.esnext"),f=t("./node_modules/@shopify/polaris-icons/dist/icons/CaretDownMinor.svg.mjs"),_=t("./node_modules/@shopify/react-i18n/build/esnext/hooks.esnext"),N="_2hkI1",B="_2Oiqp",F="_3lYr7",A="uBUm3",E="pfVCg",I="_2zK31";function x({onClick:n,active:e,productStatus:i,showCaret:o,hasNoSalesChannels:l,condensed:d}){const[c,u]=Object(a.useState)(!1),[k]=Object(_.a)({id:"PeekingCardActivator_flu2sr",fallback:j.a,translations(n){if(!(["cs","da","de","es","fi","fr","it","ja","ko","nb","nl","pl","pt-BR","pt-PT","sv","th","tr","vi","zh-CN","zh-TW"].indexOf(n)<0))return(async()=>{const e=await t("./app/components/ProductStatusPeekingCard/components/PeekingCardActivator/translations lazy-once recursive ^\\.\\/.*\\.json$")(`./${n}.json`);return e&&e.default})()}}),h=s.a.createElement(b.a,{spacing:"none",distribution:"equalSpacing",wrap:!1},s.a.createElement(m.a,{productStatus:i}),s.a.createElement("div",{className:r()(E,(e||c||o)&&I)},s.a.createElement(y.a,{source:f.a}))),g=i===p.a.Active&&l?s.a.createElement(b.a,{vertical:!0,spacing:"none"},h,s.a.createElement("span",{className:A},s.a.createElement(S.a,{variation:"subdued"},k.translate("PeekingCardActivator.noSalesChannels")))):s.a.createElement("span",null,h);return s.a.createElement("button",{type:"button",onClick:n,onFocus:()=>u(!0),onBlur:()=>u(!1),className:r()(N,e&&F,d&&B)},g)}var O=t("./app/components/ProductStatusPeekingCard/components/PeekingCardBody/translations/en.json"),T=t.n(O),z=t("./node_modules/@shopify/polaris/dist/esnext/components/SkeletonBodyText/SkeletonBodyText.tsx.esnext"),D=t("./node_modules/@shopify/polaris/dist/esnext/components/Subheading/Subheading.tsx.esnext"),w=t("./packages/@web-utilities/graphql/query.ts"),L=t("./node_modules/@shopify/react-graphql/build/esnext/hooks/query.esnext"),$=t("./app/utilities/channels-availability/utilities.ts"),R=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"ChannelsPublication"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"productId"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"ID"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"shop"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"ianaTimezone"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"publicationCount"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"publications"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"first"},"value":{"kind":"IntValue","value":"250"}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"edges"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"node"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"PublicationVisibilityPublication"},"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"product"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"id"},"value":{"kind":"Variable","name":{"kind":"Name","value":"productId"}}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"feedback"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"details"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"app"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"messages"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"message"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"link"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"url"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"label"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"resourcePublicationsV2"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"first"},"value":{"kind":"IntValue","value":"250"}},{"kind":"Argument","name":{"kind":"Name","value":"onlyPublished"},"value":{"kind":"BooleanValue","value":false}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"edges"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"node"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"publishDate"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"isPublished"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"publication"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"PublicationVisibilityPublication"},"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}}]}},{"kind":"FragmentDefinition","name":{"kind":"Name","value":"PublicationVisibilityPublication"},"typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"Publication"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"name"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"supportsSellingPlans"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"supportsFuturePublishing"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"app"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"title"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"handle"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"feedback"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"messages"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"message"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"link"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"url"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"label"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}}],"loc":{"start":0,"end":752,"source":{"body":"query ChannelsPublication($productId:ID!){shop{id ianaTimezone publicationCount __typename}publications(first:250){edges{node{...PublicationVisibilityPublication __typename}__typename}__typename}product(id:$productId){id feedback{details{app{id __typename}messages{message __typename}link{url label __typename}__typename}__typename}resourcePublicationsV2(first:250,onlyPublished:false){edges{node{publishDate isPublished publication{...PublicationVisibilityPublication __typename}__typename}__typename}__typename}__typename}}fragment PublicationVisibilityPublication on Publication{id name supportsSellingPlans supportsFuturePublishing app{id title handle feedback{messages{message __typename}link{url label __typename}__typename}__typename}__typename}","name":"GraphQL request","locationOffset":{"line":1,"column":1}}},"id":"f9b04a8288fb5d379065da3b437131f6f60e3151011bbf0a641e07e4b52141a7"}'),V=t("./app/components/ProductStatusPeekingCard/components/PeekingCardBody/components/PeekingCardChannels/translations/en.json"),W=t.n(V),U=t("./app/utilities/channels-availability/hooks.ts"),q=t("./app/components/ChannelsAvailability/ChannelIndicatorBadge/ChannelIndicatorBadge.tsx"),M="YFw3-",G="_2QUD4";const K={month:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric",timeZoneName:"short"};function H({productStatus:n,channels:e,installedChannelsCount:a,timeZone:i}){const[o]=Object(_.a)({id:"PeekingCardChannels_58al60",fallback:W.a,translations(n){if(!(["cs","da","de","es","fi","fr","it","ja","ko","nb","nl","pl","pt-BR","pt-PT","sv","th","tr","vi","zh-CN","zh-TW"].indexOf(n)<0))return(async()=>{const e=await t("./app/components/ProductStatusPeekingCard/components/PeekingCardBody/components/PeekingCardChannels/translations lazy-once recursive ^\\.\\/.*\\.json$")(`./${n}.json`);return e&&e.default})()}}),{getSummarizedChannelNames:l}=Object(U.a)(),r=e.map((({publishDate:e,published:t,channel:{id:a,name:s,supportsFuturePublishing:l,error:r}})=>{return{id:a,channelName:s,isUncertain:n===p.a.Active&&Object($.f)(r),futurePublishDate:n===p.a.Active&&e&&Object($.i)(n===p.a.Active,l,t,e?new Date(e):null)?(d=new Date(e),o.formatDate(d,{timeZone:i,...K})):null};var d})),{scheduledChannels:d,uncertainChannels:c,restChannels:u}=r.reduce(((n,e)=>(e.isUncertain?n.uncertainChannels.push(e):e.futurePublishDate?n.scheduledChannels.push(e):n.restChannels.push(e),n)),{scheduledChannels:[],uncertainChannels:[],restChannels:[]}),m=c.length>0?s.a.createElement("div",{className:G},s.a.createElement(q.a,{status:q.b.Error,largerFont:!0},l(c.map((n=>n.channelName)),5)||"")):null,k=u.length>0?s.a.createElement("div",{className:G},s.a.createElement(q.a,{status:n===p.a.Active?q.b.Published:q.b.Selected,largerFont:!0},l(u.map((n=>n.channelName)),5)||"")):null,h=d.length>0?d.map((({futurePublishDate:n,channelName:e,id:t})=>s.a.createElement("div",{className:G,key:t},s.a.createElement(q.a,{status:q.b.Scheduled,largerFont:!0},e,s.a.createElement("div",{className:M},s.a.createElement(S.a,{variation:"subdued"},o.translate("PeekingCardChannels.scheduledChannels.willBePublished"),s.a.createElement("div",null,n))))))):void 0,g=s.a.createElement(q.a,{status:q.b.Selected,largerFont:!0},o.translate("PeekingCardChannels.channelStatus.selected",{channelsCount:0})),C=0===r.length?g:s.a.createElement(s.a.Fragment,null,h,k,m);return 0===a?s.a.createElement(s.a.Fragment,null,o.translate("PeekingCardChannels.noSalesChannels")):C}var J="_33U8D",Y="_1uD0a";function Z({productId:n,productStatus:e,onLoaded:a}){const[o]=Object(_.a)({id:"PeekingCardBody_7tip3f",fallback:T.a,translations(n){if(!(["cs","da","de","es","fi","fr","it","ja","ko","nb","nl","pl","pt-BR","pt-PT","sv","th","tr","vi","zh-CN","zh-TW"].indexOf(n)<0))return(async()=>{const e=await t("./app/components/ProductStatusPeekingCard/components/PeekingCardBody/translations lazy-once recursive ^\\.\\/.*\\.json$")(`./${n}.json`);return e&&e.default})()}}),{data:l,error:r,loading:d}=Object(L.a)(R,{variables:{productId:n}});if(r)throw r;if(d||!l||!l.product)return s.a.createElement(i.a.Section,null,s.a.createElement("div",{className:Y},s.a.createElement(z.a,{lines:3})));const{product:c,publications:u}=l,p=Object(w.p)(c.resourcePublicationsV2.edges),m=u&&Object(w.p)(u.edges),k=Object($.a)(p,m,c.feedback).filter((({selected:n})=>n));a(k.length);const h=l.shop.ianaTimezone,g=l.shop.publicationCount;return s.a.createElement(s.a.Fragment,null,s.a.createElement(i.a.Pane,null,s.a.createElement(i.a.Section,null,s.a.createElement(b.a,{vertical:!0,spacing:"tight"},s.a.createElement(b.a,{distribution:"equalSpacing",alignment:"baseline"},s.a.createElement(S.a,{variation:"subdued"},s.a.createElement(D.a,null,s.a.createElement("div",{className:J},o.translate("productStatusPeekingCard.salesAndChannels"))))),s.a.createElement(H,{productStatus:e,channels:k,installedChannelsCount:g,timeZone:h})))))}function Q({productStatus:n,productId:e,hasNoSalesChannels:t=!1,condensed:o,showCaret:l}){const{produce:h}=Object(d.e)(),[v,j]=Object(a.useState)(!1),[b,y]=Object(a.useState)(!1),[S,f]=Object(a.useState)(0),{pathname:_}=Object(u.i)(),N=Object(a.useCallback)((()=>j((n=>!n))),[]);Object(a.useEffect)((()=>{b&&h({schemaId:"product_channels_peek/1.0",payload:{productId:Number(Object(c.parseGid)(e)),adminSection:_,status:n,countOfChannels:S}})}),[b,_,h,e,n,S]);const B=s.a.createElement(x,{onClick:N,active:v,productStatus:n,hasNoSalesChannels:t,condensed:o,showCaret:l}),F=v?s.a.createElement(nn,{onClick:N}):null;return n===p.a.Archived?s.a.createElement("div",{className:r()(C,o&&P)},s.a.createElement(m.a,{productStatus:n})):s.a.createElement("div",{className:g,onClick:X,onKeyDown:X},s.a.createElement(i.a,{activator:B,active:v,onClose:N,preferredAlignment:"left"},s.a.createElement("div",{className:k},s.a.createElement(Z,{productId:e,productStatus:n,onLoaded:function(n){v?(y(!0),f(n)):y(!1)}}))),F)}function X(n){n.stopPropagation()}function nn({onClick:n}){return s.a.createElement(o.a,null,s.a.createElement("div",{className:h,onClick:n}))}},"./app/components/ProductStatusPeekingCard/components/PeekingCardActivator/translations lazy-once recursive ^\\.\\/.*\\.json$":function(n,e,t){var a={"./cs.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardActivator/translations/cs.json","./da.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardActivator/translations/da.json","./de.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardActivator/translations/de.json","./en.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardActivator/translations/en.json","./es.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardActivator/translations/es.json","./fi.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardActivator/translations/fi.json","./fr.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardActivator/translations/fr.json","./it.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardActivator/translations/it.json","./ja.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardActivator/translations/ja.json","./ko.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardActivator/translations/ko.json","./nb.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardActivator/translations/nb.json","./nl.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardActivator/translations/nl.json","./pl.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardActivator/translations/pl.json","./pt-BR.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardActivator/translations/pt-BR.json","./pt-PT.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardActivator/translations/pt-PT.json","./sv.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardActivator/translations/sv.json","./th.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardActivator/translations/th.json","./tr.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardActivator/translations/tr.json","./vi.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardActivator/translations/vi.json","./zh-CN.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardActivator/translations/zh-CN.json","./zh-TW.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardActivator/translations/zh-TW.json"};function s(n){return i(n).then((function(n){return t.t(n,7)}))}function i(n){return t.e("PeekingCardActivator_flu2sr-i18n").then((function(){if(!t.o(a,n)){var e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e}return a[n]}))}s.keys=function(){return Object.keys(a)},s.resolve=i,s.id="./app/components/ProductStatusPeekingCard/components/PeekingCardActivator/translations lazy-once recursive ^\\.\\/.*\\.json$",n.exports=s},"./app/components/ProductStatusPeekingCard/components/PeekingCardActivator/translations/en.json":function(n,e){n.exports={PeekingCardActivator:{noSalesChannels:"0 sales channels"}}},"./app/components/ProductStatusPeekingCard/components/PeekingCardBody/components/PeekingCardChannels/translations lazy-once recursive ^\\.\\/.*\\.json$":function(n,e,t){var a={"./cs.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardBody/components/PeekingCardChannels/translations/cs.json","./da.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardBody/components/PeekingCardChannels/translations/da.json","./de.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardBody/components/PeekingCardChannels/translations/de.json","./en.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardBody/components/PeekingCardChannels/translations/en.json","./es.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardBody/components/PeekingCardChannels/translations/es.json","./fi.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardBody/components/PeekingCardChannels/translations/fi.json","./fr.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardBody/components/PeekingCardChannels/translations/fr.json","./it.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardBody/components/PeekingCardChannels/translations/it.json","./ja.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardBody/components/PeekingCardChannels/translations/ja.json","./ko.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardBody/components/PeekingCardChannels/translations/ko.json","./nb.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardBody/components/PeekingCardChannels/translations/nb.json","./nl.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardBody/components/PeekingCardChannels/translations/nl.json","./pl.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardBody/components/PeekingCardChannels/translations/pl.json","./pt-BR.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardBody/components/PeekingCardChannels/translations/pt-BR.json","./pt-PT.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardBody/components/PeekingCardChannels/translations/pt-PT.json","./sv.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardBody/components/PeekingCardChannels/translations/sv.json","./th.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardBody/components/PeekingCardChannels/translations/th.json","./tr.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardBody/components/PeekingCardChannels/translations/tr.json","./vi.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardBody/components/PeekingCardChannels/translations/vi.json","./zh-CN.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardBody/components/PeekingCardChannels/translations/zh-CN.json","./zh-TW.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardBody/components/PeekingCardChannels/translations/zh-TW.json"};function s(n){return i(n).then((function(n){return t.t(n,7)}))}function i(n){return t.e("PeekingCardChannels_58al60-i18n").then((function(){if(!t.o(a,n)){var e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e}return a[n]}))}s.keys=function(){return Object.keys(a)},s.resolve=i,s.id="./app/components/ProductStatusPeekingCard/components/PeekingCardBody/components/PeekingCardChannels/translations lazy-once recursive ^\\.\\/.*\\.json$",n.exports=s},"./app/components/ProductStatusPeekingCard/components/PeekingCardBody/components/PeekingCardChannels/translations/en.json":function(n,e){n.exports={PeekingCardChannels:{channelStatus:{selected:"{channelsCount} selected"},scheduledChannels:{willBePublished:"Will be published on:"},noSalesChannels:"No sales channels added"}}},"./app/components/ProductStatusPeekingCard/components/PeekingCardBody/translations lazy-once recursive ^\\.\\/.*\\.json$":function(n,e,t){var a={"./cs.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardBody/translations/cs.json","./da.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardBody/translations/da.json","./de.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardBody/translations/de.json","./en.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardBody/translations/en.json","./es.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardBody/translations/es.json","./fi.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardBody/translations/fi.json","./fr.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardBody/translations/fr.json","./it.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardBody/translations/it.json","./ja.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardBody/translations/ja.json","./ko.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardBody/translations/ko.json","./nb.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardBody/translations/nb.json","./nl.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardBody/translations/nl.json","./pl.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardBody/translations/pl.json","./pt-BR.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardBody/translations/pt-BR.json","./pt-PT.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardBody/translations/pt-PT.json","./sv.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardBody/translations/sv.json","./th.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardBody/translations/th.json","./tr.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardBody/translations/tr.json","./vi.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardBody/translations/vi.json","./zh-CN.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardBody/translations/zh-CN.json","./zh-TW.json":"./app/components/ProductStatusPeekingCard/components/PeekingCardBody/translations/zh-TW.json"};function s(n){return i(n).then((function(n){return t.t(n,7)}))}function i(n){return t.e("PeekingCardBody_7tip3f-i18n").then((function(){if(!t.o(a,n)){var e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e}return a[n]}))}s.keys=function(){return Object.keys(a)},s.resolve=i,s.id="./app/components/ProductStatusPeekingCard/components/PeekingCardBody/translations lazy-once recursive ^\\.\\/.*\\.json$",n.exports=s},"./app/components/ProductStatusPeekingCard/components/PeekingCardBody/translations/en.json":function(n,e){n.exports={productStatusPeekingCard:{salesAndChannels:"Sales Channels and apps"}}},"./app/utilities/channels-availability/hooks.ts":function(n,e,t){"use strict";t.d(e,"a",(function(){return l}));var a=t("./app/utilities/channels-availability/translations/en.json"),s=t.n(a),i=t("./node_modules/@shopify/react-i18n/build/esnext/hooks.esnext"),o=t("./node_modules/react/index.js");function l(){const[n]=Object(i.a)({id:"hooks_4mkjuh",fallback:s.a,translations(n){if(!(["cs","da","de","es","fi","fr","it","ja","ko","nb","nl","pl","pt-BR","pt-PT","sv","th","tr","vi","zh-CN","zh-TW"].indexOf(n)<0))return(async()=>{const e=await t("./app/utilities/channels-availability/translations lazy-once recursive ^\\.\\/.*\\.json$")(`./${n}.json`);return e&&e.default})()}});return{getSummarizedChannelNames:Object(o.useCallback)(((e,t)=>{const a=e.length;switch(!0){case a>t:return n.translate("ChannelNames.moreThanLimitChannels",{channelsList:e.slice(0,t).join(n.translate("ChannelNames.listSeparator")),count:a-t});case a>2&&a<=t:return n.translate("ChannelNames.betweenTwoAndLimitChannels",{channelsList:e.slice(0,a-1).join(n.translate("ChannelNames.listSeparator")),lastChannel:e[a-1]});case 2===a:return n.translate("ChannelNames.upToTwoChannels",{firstChannel:e[0],secondChannel:e[1]});case 1===a:return e[0];default:return""}}),[n])}}},"./app/utilities/channels-availability/translations lazy-once recursive ^\\.\\/.*\\.json$":function(n,e,t){var a={"./cs.json":"./app/utilities/channels-availability/translations/cs.json","./da.json":"./app/utilities/channels-availability/translations/da.json","./de.json":"./app/utilities/channels-availability/translations/de.json","./en.json":"./app/utilities/channels-availability/translations/en.json","./es.json":"./app/utilities/channels-availability/translations/es.json","./fi.json":"./app/utilities/channels-availability/translations/fi.json","./fr.json":"./app/utilities/channels-availability/translations/fr.json","./it.json":"./app/utilities/channels-availability/translations/it.json","./ja.json":"./app/utilities/channels-availability/translations/ja.json","./ko.json":"./app/utilities/channels-availability/translations/ko.json","./nb.json":"./app/utilities/channels-availability/translations/nb.json","./nl.json":"./app/utilities/channels-availability/translations/nl.json","./pl.json":"./app/utilities/channels-availability/translations/pl.json","./pt-BR.json":"./app/utilities/channels-availability/translations/pt-BR.json","./pt-PT.json":"./app/utilities/channels-availability/translations/pt-PT.json","./sv.json":"./app/utilities/channels-availability/translations/sv.json","./th.json":"./app/utilities/channels-availability/translations/th.json","./tr.json":"./app/utilities/channels-availability/translations/tr.json","./vi.json":"./app/utilities/channels-availability/translations/vi.json","./zh-CN.json":"./app/utilities/channels-availability/translations/zh-CN.json","./zh-TW.json":"./app/utilities/channels-availability/translations/zh-TW.json"};function s(n){return i(n).then((function(n){return t.t(n,7)}))}function i(n){return t.e("hooks_4mkjuh-i18n").then((function(){if(!t.o(a,n)){var e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e}return a[n]}))}s.keys=function(){return Object.keys(a)},s.resolve=i,s.id="./app/utilities/channels-availability/translations lazy-once recursive ^\\.\\/.*\\.json$",n.exports=s},"./app/utilities/channels-availability/translations/en.json":function(n,e){n.exports={ChannelNames:{upToTwoChannels:"{firstChannel} and {secondChannel}",betweenTwoAndLimitChannels:"{channelsList}, and {lastChannel}",moreThanLimitChannels:{one:"{channelsList}, and {count} more",other:"{channelsList}, and {count} more"},listSeparator:", "}}},"./app/utilities/channels-availability/utilities.ts":function(n,e,t){"use strict";t.d(e,"h",(function(){return s})),t.d(e,"i",(function(){return i})),t.d(e,"d",(function(){return o})),t.d(e,"f",(function(){return r})),t.d(e,"g",(function(){return d})),t.d(e,"c",(function(){return c})),t.d(e,"j",(function(){return u})),t.d(e,"b",(function(){return m})),t.d(e,"a",(function(){return k})),t.d(e,"e",(function(){return h}));var a=t("./node_modules/@shopify/dates/build/esnext/is-future-date.esnext");function s(n,e){return e&&n&&Object(a.a)(e)}function i(n,e,t,a){return!(!n||!e||t||!a)}function o({channel:{supportsFuturePublishing:n,error:e},published:t,publishDate:a},s){const o=t&&r(e);return[s?null:"selected",i(s,n,t,a)?"scheduled":null,null,o?"notApproved":null,t?"published":null].find((n=>null!==n))||"selected"}const l=["scheduled","notApproved","pending"];function r(n){return null!=n}function d(n,e,t,a){return s(n,e)||(i=a,l.indexOf(i)>=0)||r(t);var i}function c(n,e){return n?"schedule":r(e)?"feedback":null}function u(n){n.stopPropagation()}function p(n,e){return{appId:n&&n.app?n.app.id:"",messages:n?n.messages.map((({message:n})=>n)):[],link:n&&n.link,isResourceError:e}}function m(n){return n?n.map((({id:n,name:e,supportsSellingPlans:t,supportsFuturePublishing:a,app:s})=>{const{feedback:i}=s;return{channel:{id:n,name:e,supportsSellingPlans:t,supportsFuturePublishing:a,handle:s.handle?s.handle:"",error:p(i,!1)},publishDate:null,published:!1,selected:!0}})):[]}function k(n,e,t){return n&&e?e.map((({id:e,name:a,supportsSellingPlans:s,supportsFuturePublishing:i,app:o})=>{const l=n.find((n=>n.publication.id===e)),r=o.feedback,d=t&&t.details.find((n=>(n.app?n.app.id:null)===o.id));let c=null,u=null;return d&&(c=d,u=!0),r&&(c=r,u=!1),{channel:{id:e,name:a,supportsSellingPlans:s,supportsFuturePublishing:i,handle:o.handle?o.handle:"",error:c?p(c,u||!1):null},publishDate:l&&l.publishDate?new Date(l.publishDate):null,published:l&&l.isPublished||!1,selected:Boolean(l)}})):[]}function h(n,e){const t=[],a=[],s={};return null!=n&&n.forEach((n=>{s[n.channel.id]={selected:n.selected,publishDate:n.publishDate}})),e.forEach((({selected:e,publishDate:i,channel:{id:o,supportsFuturePublishing:l}})=>{var r;const d=n?s[o]:{selected:!1,publishDate:null};e&&!d.selected||e&&(null===(r=d.publishDate)||void 0===r?void 0:r.toISOString())!==(null==i?void 0:i.toISOString())?t.push({publicationId:o,publishDate:l?g(i,!d.selected):void 0}):!e&&d.selected&&a.push({publicationId:o})})),{publicationsToAdd:t,publicationsToDelete:a}}function g(n,e){return e?null==n?void 0:n.toISOString():null==n?(new Date).toISOString():n.toISOString()}}}]);
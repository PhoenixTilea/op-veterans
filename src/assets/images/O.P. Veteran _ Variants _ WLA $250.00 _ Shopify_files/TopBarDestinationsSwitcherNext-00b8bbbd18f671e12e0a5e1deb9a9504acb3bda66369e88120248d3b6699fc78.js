(self.webpackJsonp=self.webpackJsonp||[]).push([["TopBarDestinationsSwitcherNext"],{"./app/foundation/Frame/components/TopBar/components/DestinationsSwitcher/index.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return b}));var r=n("./node_modules/react/index.js"),o=n.n(r),s=n("./node_modules/@shopify/react-graphql/build/esnext/hooks/query.esnext"),i=n("./packages/@shopify/react-browser/hooks.ts"),c=n("./node_modules/@shopify/global-nav/dist/src/components/DestinationsProvider/components/NormalizationProvider/hooks/useDestinationsData.esnext"),a=n("./node_modules/@shopify/global-nav/dist/src/components/Switcher/Switcher.esnext"),u=n("./packages/@web-utilities/monorail/producer.ts"),l=n("./packages/@web-utilities/other/index.ts"),d=n("./node_modules/@shopify/react-graphql/build/esnext/async/component.esnext");const f=Object(d.a)({load:()=>n.e("switcherStoresQuery").then(n.bind(null,"./app/foundation/Frame/components/TopBar/components/DestinationsSwitcher/components/SwitcherNoStoresQuery/graphql/SwitcherNoStoresQuery.graphql")),id:()=>"./app/foundation/Frame/components/TopBar/components/DestinationsSwitcher/components/SwitcherNoStoresQuery/graphql/SwitcherNoStoresQuery.graphql"});function p({activatorUrl:e="",branding:t,searchKeys:n=["name","url"],title:r,isSideNav:d=!1,isMobileNavOpen:p,isWebDarkMode:b=!0,isInGlobalNav:h=!1}){const{data:y,refetch:m}=Object(s.a)(f),{switcherItems:v}=Object(c.a)(),x=Object(i.a)(),{produce:w}=Object(u.e)(),{isEmailVerified:O,identityAccountUrl:j}=(e=>{const t={isEmailVerified:!1,identityAccountUrl:""};if(!e||null==e.staffMember)return t;const{privateData:{emailVerified:n},identityAccountUrl:r}=e.staffMember;return{isEmailVerified:n,identityAccountUrl:r||""}})(y),g={shopId:0,userId:0,totalStores:0,mobile:Object(l.f)(x)?"web_mobile":"web_desktop"};return o.a.createElement(a.a,{activatorUrl:e,branding:t,isMobileNavOpen:p,heading:r,isEmailVerified:O,items:v,onActivate:()=>{w({schemaId:"admin_store_switcher_activator_click/1.0",payload:g})},navExpanded:!0,refetch:m,searchKeys:n,isSideNav:d,identityAccountUrl:j,isWebDarkMode:b,isInGlobalNav:h})}var b=o.a.memo(p)},"./node_modules/@shopify/react-graphql/build/esnext/async/component.esnext":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("./node_modules/@shopify/react-idle/build/esnext/hooks.esnext"),o=n("./node_modules/@shopify/react-graphql/build/esnext/async/query.esnext"),s=n("./node_modules/@shopify/react-graphql/build/esnext/hooks/query.esnext");function i(e){const t=Object(o.a)(e),{resolver:n,usePreload:i,usePrefetch:c,useKeepFresh:a}=t;const u=function(e){const n=Object(s.a)(t,e);return e.children(n)};return Reflect.defineProperty(u,"resolver",{value:n,writable:!1}),Reflect.defineProperty(u,"Preload",{value:function(){return Object(r.a)(i()),null},writable:!1}),Reflect.defineProperty(u,"Prefetch",{value:function(e){return Object(r.a)(c(e)),null},writable:!1}),Reflect.defineProperty(u,"KeepFresh",{value:function(e){return Object(r.a)(a(e)),null},writable:!1}),Reflect.defineProperty(u,"usePreload",{value:i,writable:!1}),Reflect.defineProperty(u,"usePrefetch",{value:c,writable:!1}),Reflect.defineProperty(u,"useKeepFresh",{value:a,writable:!1}),u}},"./node_modules/@shopify/react-graphql/build/esnext/async/query.esnext":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("./node_modules/@shopify/async/build/esnext/resolver.esnext"),o=n("./node_modules/@shopify/react-async/build/esnext/hooks.esnext"),s=n("./node_modules/@shopify/react-async/build/esnext/types.esnext"),i=n("./node_modules/react/index.js"),c=n("./node_modules/@shopify/react-graphql/build/esnext/hooks/apollo-client.esnext");function a(e,t){const n=Object(c.a)(),r=Object(i.useRef)(n),o=Object(i.useRef)(t),s=JSON.stringify(t),a=Object(i.useRef)(s),u=Object(i.useRef)(null),l=Object(i.useRef)(Boolean(t&&t.pollInterval));return null==u.current||r.current===n&&a.current===s||(u.current.unsubscribe(),u.current=null),r.current=n,o.current=t,a.current=s,Object(i.useEffect)((()=>()=>{u.current&&(u.current.unsubscribe(),u.current=null)}),[]),Object(i.useCallback)((async()=>{if(u.current)return;const t=await e();if(null==t||t instanceof Error)return;const n=r.current.watchQuery({query:t,fetchPolicy:"network-only",...o.current}),s=()=>{l.current||null==u.current||(u.current.unsubscribe(),u.current=null)};u.current=n.subscribe(s,s)}),[e])}function u({id:e,load:t}){const n=Object(r.a)({id:e,load:t});function i(){return Object(o.a)(n,{assets:s.a.NextPage}).load}return{resolver:n,usePreload:i,usePrefetch:function(e){return a(i(),e)},useKeepFresh:function(e){return a(i(),{pollInterval:1e4,...e})}}}}}]);